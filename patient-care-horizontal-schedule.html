<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Patient Care Schedule - Horizontal Layout</title>
    <style>
        :root {
            --background-color: #f0f4f8; /* Light Gray background */
            --text-color: #1e293b; /* Dark text color */
            --container-bg-color: #ffffff; /* White container background */
            --button-bg-color: #38bdf8; /* Light Blue button color */
            --button-hover-bg-color: #0284c7; /* Teal Blue for hover */
            --table-header-bg-color: #e0f2fe; /* Light Blue for table headers */
            --table-header-text-color: #0f172a; /* Dark text for table headers */
            --table-cell-bg-color: #ffffff; /* White table cell background */
            --table-cell-text-color: #1e293b; /* Dark text color for table cells */
            --break-bg-color: #bae6fd; /* Light Blue for breaks */
            --lunch-bg-color: #99f6e4; /* Teal Blue for lunch */
            --unassigned-bg-color: #fecaca; /* Light Red for unassigned */
        }


        body.dark-mode {
            --background-color: #1f2937; /* Dark background */
            --text-color: #f9fafb; /* Light text color */
            --container-bg-color: #374151; /* Dark gray container background */
            --button-bg-color: #2563eb; /* Blue button color */
            --button-hover-bg-color: #1d4ed8; /* Darker blue for hover */
            --table-header-bg-color: #4b5563; /* Darker gray for table headers */
            --table-header-text-color: #f9fafb; /* Light text for table headers */
            --table-cell-bg-color: #4b5563; /* Dark gray table cell background */
            --table-cell-text-color: #f9fafb; /* Light text color for table cells */
            --break-bg-color: #fbbf24; /* Yellow for breaks */
            --lunch-bg-color: #22c55e; /* Green for lunch */
            --unassigned-bg-color: #ef4444; /* Red for unassigned */
        }

        body {
            font-family: 'Inter', Arial, sans-serif;
            margin: 20px;
            line-height: 1.6;
            background-color: var(--background-color); /* Light Gray background */
            color: var(--text-color); /* Dark text color */
            transition: background-color 0.5s ease, color 0.5s ease; /* Smooth transition for background and text color */
        }
        h1, h2 {
            color: var(--text-color); /* Dark text color */
            margin-bottom: 15px;
        }
        h1 {
            font-size: 2rem;
            text-align: center;
        }
        h2 {
            font-size: 1.5rem;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: var(--container-bg-color); /* White container background */
            border-radius: 12px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            transition: background-color 0.5s ease, color 0.5s ease, box-shadow 0.5s ease; /* Smooth transition for containers, tables, and text */
        }
        .setup-section {
            background-color: var(--container-bg-color); /* Use dark mode container background */
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            border: 1px solid #e0e4e8;
            transition: background-color 0.5s ease, color 0.5s ease, box-shadow 0.5s ease; /* Smooth transition for containers, tables, and text */
        }
        .setup-section h2 {
            margin-bottom: 10px;
        }
        .staff-inputs, .patient-inputs, .security-staff-inputs {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 15px;
        }
        .patient-inputs {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); /* Responsive grid */
            gap: 15px; /* Add spacing between rows and columns */
            margin-bottom: 15px;
        }
        input, select {
            padding: 8px;
            border: 1px solid #dfe4ea;
            border-radius: 5px;
            width: 150px; /* Shortened width */
            font-size: 14px;
            background-color: var(--container-bg-color); /* Use container background color */
            color: var(--text-color); /* Use text color */
            box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);
            transition: background-color 0.5s ease, color 0.5s ease, box-shadow 0.5s ease; /* Smooth transition */
        }
        input:focus, select:focus {
            outline: none;
            border-color: #4a69bd;
            box-shadow: 0 0 5px rgba(74, 105, 189, 0.5);
        }
        button {
            background-color: var(--button-bg-color); /* Light Blue button color */
            color: white;
            border: none;
            border-radius: 8px;
            padding: 10px 15px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s ease, color 0.3s ease; /* Smooth transition for buttons */
        }
        button:hover {
            background-color: var(--button-hover-bg-color); /* Teal Blue hover color */
        }
        button:disabled {
            background-color: #dcdde1;
            cursor: not-allowed;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            background-color: var(--table-cell-bg-color); /* White table cell background */
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            transition: background-color 0.5s ease, color 0.5s ease, box-shadow 0.5s ease; /* Smooth transition for containers, tables, and text */
        }
        th, td {
            border: 1px solid #e5e7eb;
            padding: 10px;
            text-align: center;
            font-size: 14px;
            background-color: var(--table-cell-bg-color); /* White table cell background */
            color: var(--table-cell-text-color); /* Dark text color */
            transition: background-color 0.5s ease, color 0.5s ease, box-shadow 0.5s ease; /* Smooth transition for containers, tables, and text */
        }
        th {
            background-color: var(--table-header-bg-color); /* Light Blue for table headers */
            color: var(--table-header-text-color); /* Dark text for table headers */
            font-weight: bold;
        }
        tr:nth-child(even) td {
            background-color: var(--container-bg-color); /* Alternate row color for better readability */
        }
        tr:nth-child(odd) td {
            background-color: var(--table-cell-bg-color); /* Default row color */
        }
        .row-header {
            background-color: var(--table-header-bg-color); /* Light Blue for row headers */
            color: var(--table-header-text-color); /* Dark text for row headers */
            font-weight: bold;
            text-align: left;
        }
        .staff-break {
            background-color: var(--break-bg-color); /* Light Blue for breaks */
        }
        .staff-lunch {
            background-color: var(--lunch-bg-color); /* Teal Blue for lunch */
        }
        .schedule-container {
            overflow-x: auto;
            margin-top: 20px;
        }
        .stats {
            margin-top: 20px;
            background-color: var(--container-bg-color); /* Use dark mode container background */
            padding: 20px;
            border-radius: 8px;
            border: 1px solid #e0e4e8;
            color: var(--text-color); /* Ensure text color adapts to dark mode */
            transition: background-color 0.5s ease, color 0.5s ease, box-shadow 0.5s ease; /* Smooth transition for containers, tables, and text */
        }
        .legend {
            display: flex;
            gap: 20px;
            margin-top: 10px;
            margin-bottom: 20px;
        }
        .legend-item {
            display: flex;
            align-items: center;
        }
        .legend-color {
            width: 20px;
            height: 20px;
            margin-right: 5px;
            border-radius: 4px;
        }
        .legend-break {
            background-color: var(--break-bg-color); /* Light Blue for breaks */
        }
        .legend-lunch {
            background-color: var(--lunch-bg-color); /* Teal Blue for lunch */
        }
        .legend-unassigned {
            background-color: var(--unassigned-bg-color); /* Light Red for unassigned */
        }
        #toggleShiftBtn {
            background-color: #38bdf8; /* Light Blue */
            color: white;
            border: none;
            border-radius: 8px;
            padding: 10px 15px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s ease;
        }

        #toggleShiftBtn:hover {
            background-color: #0284c7; /* Teal Blue */
        }

        #toggleModeBtn {
            background-color: transparent;
            border: none;
            cursor: pointer;
            font-size: 20px; /* Larger font for the symbol */
            color: var(--text-color); /* Adapt to dark/light mode */
            transition: color 0.3s ease; /* Smooth transition for the icon color */
        }

        #toggleModeBtn:hover {
            color: #0284c7; /* Teal Blue on hover */
        }

        .patient-container {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
        }
        .patient-container {
            display: flex;
            align-items: center;
            gap: 10px; /* Add spacing between input and dropdown */
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Day Shift Allocation</h1>

        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
            <button id="toggleShiftBtn" style="margin-right: auto;">Switch to Night Shift</button>
            <button id="toggleModeBtn" style="font-size: 20px;">🌙</button>
        </div>

        <div class="setup-section">
            <h2>Security Staff</h2>
            <div class="security-staff-inputs" id="securityStaffInputs">
                <!-- Initially empty -->
            </div>
            <button id="addSecurityStaffBtn">Add Security Staff</button>
            <button id="removeSecurityStaffBtn">Remove Security Staff</button>

            <h2>Health Care Worker (HCW)</h2>
            <div class="staff-inputs" id="staffInputs">
                <!-- Initially empty -->
            </div>
            <button id="addStaffBtn">Add Health Care Worker</button>
            <button id="removeStaffBtn">Remove Health Care Worker</button>

            <h2>Patient Names</h2>
            <div class="patient-inputs" id="patientInputs">
                <!-- Initially empty -->
            </div>
            <button id="addPatientBtn">Add Patient</button>
            <button id="removePatientBtn">Remove Patient</button>

            <button id="generateBtn">Generate Schedule</button>
            <button id="resetBtn">Reset</button>
        </div>

        <div class="legend">
            <div class="legend-item">
                <div class="legend-color legend-break"></div>
                <div>30-min Break</div>
            </div>
            <div class="legend-item">
                <div class="legend-color legend-lunch"></div>
                <div>1-hour Lunch</div>
            </div>
            <div class="legend-item">
                <div class="legend-color legend-unassigned"></div>
                <div>Unassigned</div>
            </div>
        </div>

        <div class="schedule-container">
            <h2>Patient Care Schedule</h2>
            <table id="scheduleTable">
                <thead id="scheduleHeader">
                    <!-- Time headers will be here -->
                </thead>
                <tbody id="scheduleBody">
                    <!-- Patient rows will be here -->
                </tbody>
            </table>
        </div>

        <div class="schedule-container">
            <h2>Staff Schedule</h2>
            <table id="staffTable">
                <thead id="staffHeader">
                    <!-- Time headers will be here -->
                </thead>
                <tbody id="staffBody">
                    <!-- Staff rows will be here -->
                </tbody>
            </table>
        </div>

        <div class="schedule-container">
            <h2>Staff Break Hours</h2>
            <table id="breakHoursTable">
                <thead>
                    <tr>
                        <th>Staff</th>
                        <th>30-min Break</th>
                        <th>1-hour Lunch</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Break hours rows will be dynamically added here -->
                </tbody>
            </table>
        </div>

        <div class="stats" id="stats">
            <!-- Statistics will be shown here -->
        </div>
    </div>

    <script>
        // Time slots for day and night shifts
        const dayShiftSlots = [
            "8:00-9:00", "9:00-10:00", "10:00-11:00", "11:00-12:00",
            "12:00-13:00", "13:00-14:00", "14:00-15:00", "15:00-16:00",
            "16:00-17:00", "17:00-18:00", "18:00-19:00"
        ];
        const nightShiftSlots = [
            "19:00-20:00", "20:00-21:00", "21:00-22:00", "22:00-23:00",
            "23:00-00:00", "00:00-01:00", "01:00-02:00", "02:00-03:00",
            "03:00-04:00", "04:00-05:00", "05:00-06:00", "06:00-07:00", "07:00-08:00"
        ];

        let currentShift = "day"; // Default to day shift
        let timeSlots = [...dayShiftSlots]; // Initialize with day shift slots

        // Function to toggle between day and night shifts
        function toggleShift() {
            const heading = document.querySelector("h1");
            const toggleShiftButton = document.getElementById("toggleShiftBtn");

            if (currentShift === "day") {
                currentShift = "night";
                timeSlots = [...nightShiftSlots];
                heading.textContent = "Night Shift Allocation";
                toggleShiftButton.textContent = "Switch to Day Shift";
            } else {
                currentShift = "day";
                timeSlots = [...dayShiftSlots];
                heading.textContent = "Day Shift Allocation";
                toggleShiftButton.textContent = "Switch to Night Shift";
            }

            // Clear and regenerate the schedule
            document.getElementById("scheduleHeader").innerHTML = "";
            document.getElementById("scheduleBody").innerHTML = "";
            document.getElementById("staffHeader").innerHTML = "";
            document.getElementById("staffBody").innerHTML = "";
            document.getElementById("breakHoursTable").querySelector("tbody").innerHTML = "";
            document.getElementById("stats").innerHTML = "";

            // Optionally regenerate the schedule if inputs are already filled
            if (document.querySelectorAll(".patient-container").length > 0) {
                generateSchedule();
            }
        }

        // Function to determine the current shift based on system time
        function setShiftBasedOnTime() {
            const currentHour = new Date().getHours(); // Get the current hour (0-23)
            const heading = document.querySelector("h1");
            const toggleShiftButton = document.getElementById("toggleShiftBtn");

            if (currentHour >= 8 && currentHour < 19) {
                // Day shift: 08:00 to 19:00
                currentShift = "day";
                timeSlots = [...dayShiftSlots];
                heading.textContent = "Day Shift Allocation";
                toggleShiftButton.textContent = "Switch to Night Shift";
            } else {
                // Night shift: 19:00 to 08:00
                currentShift = "night";
                timeSlots = [...nightShiftSlots];
                heading.textContent = "Night Shift Allocation";
                toggleShiftButton.textContent = "Switch to Day Shift";
            }

            // Clear and regenerate the schedule
            document.getElementById("scheduleHeader").innerHTML = "";
            document.getElementById("scheduleBody").innerHTML = "";
            document.getElementById("staffHeader").innerHTML = "";
            document.getElementById("staffBody").innerHTML = "";
            document.getElementById("breakHoursTable").querySelector("tbody").innerHTML = "";
            document.getElementById("stats").innerHTML = "";

            // Optionally regenerate the schedule if inputs are already filled
            if (document.querySelectorAll(".patient-container").length > 0) {
                generateSchedule();
            }
        }

        // Generate a schedule automatically
        function generateSchedule() {
            const patientInputs = document.querySelectorAll('.patient-container');
            const staffInputs = document.querySelectorAll('.staff-container');
            const securityStaffInputs = document.querySelectorAll('.security-container');

            const staff = [];
            const securityStaff = new Set();
            const patients = [];

            // Process security staff
            securityStaffInputs.forEach(container => {
                const staffName = container.querySelector('.security-name').value.trim();
                if (staffName) {
                    staff.push(staffName);
                    securityStaff.add(staffName);
                }
            });

            // Process other staff
            staffInputs.forEach(container => {
                const staffName = container.querySelector('.staff-name').value.trim();
                if (staffName) {
                    staff.push(staffName);
                }
            });

            // Process patients
            patientInputs.forEach(container => {
                const patientName = container.querySelector('.patient-name').value.trim();
                const staffCount = parseInt(container.querySelector('.staff-count').value);
                if (patientName) {
                    patients.push({ name: patientName, staffCount });
                }
            });

            // Validate inputs
            if (staff.length === 0) {
                alert("Please enter at least one staff name");
                return;
            }
            if (patients.length === 0) {
                alert("Please enter at least one patient name");
                return;
            }

            // Initialize schedule data structure
            const schedule = {};
            timeSlots.forEach(time => {
                schedule[time] = {
                    patientAssignments: {},
                    staffBreaks: {}
                };
                patients.forEach(patient => {
                    schedule[time].patientAssignments[patient.name] = [];
                });
                staff.forEach(s => {
                    schedule[time].staffBreaks[s] = "";
                });
            });

            // Track total work and break time for each staff
            const staffStats = {};
            staff.forEach(s => {
                staffStats[s] = {
                    workHours: 0,
                    breakTime: 0,
                    shortBreakTime: "",
                    lunchTime: ""
                };
            });

            // Schedule breaks and assign staff to patients (existing logic)
            // ...

            renderSchedule(schedule, staff, patients.map(p => p.name), staffStats);
        }

        // Render the schedule to the HTML table with horizontal timeline
        function renderSchedule(schedule, staff, patients, staffStats) {
            // Setup patient schedule header (time slots horizontally)
            const scheduleHeader = document.getElementById('scheduleHeader');
            let headerHTML = '<tr><th>Patient</th>';

            timeSlots.forEach(time => {
                // Extract the ending hour from the time slot (e.g., "7:00-8:00" -> "8:00")
                const endingHour = time.split('-')[1];
                headerHTML += `<th>${endingHour}</th>`;
            });

            headerHTML += '</tr>';
            scheduleHeader.innerHTML = headerHTML;

            // Setup patient schedule body (patient rows)
            const scheduleBody = document.getElementById('scheduleBody');
            scheduleBody.innerHTML = '';

            patients.forEach(patient => {
                const row = document.createElement('tr');

                // Add patient name cell
                const patientCell = document.createElement('td');
                patientCell.textContent = patient;
                patientCell.className = 'row-header';
                row.appendChild(patientCell);

                // Add cells for each time slot
                timeSlots.forEach(time => {
                    const cell = document.createElement('td');
                    const assignedStaff = schedule[time].patientAssignments[patient];

                    if (assignedStaff.length === 0) {
                        cell.textContent = "UNASSIGNED";
                        cell.style.backgroundColor = "#ffeaa7";
                    } else {
                        cell.textContent = assignedStaff.join(", ");
                    }

                    row.appendChild(cell);
                });

                scheduleBody.appendChild(row);
            });

            // Setup staff schedule header (same as patient schedule)
            const staffHeader = document.getElementById('staffHeader');
            staffHeader.innerHTML = headerHTML;

            // Setup staff schedule body (staff rows)
            const staffBody = document.getElementById('staffBody');
            staffBody.innerHTML = '';

            staff.forEach(s => {
                const row = document.createElement('tr');

                // Add staff name cell
                const staffCell = document.createElement('td');
                staffCell.textContent = s;
                staffCell.className = 'row-header';
                row.appendChild(staffCell);

                // Add cells for each time slot
                timeSlots.forEach(time => {
                    const cell = document.createElement('td');
                    const breakStatus = schedule[time].staffBreaks[s];

                    if (breakStatus === "30-MIN BREAK") {
                        cell.textContent = "BREAK";
                        cell.className = 'staff-break';
                    } else if (breakStatus === "1-HOUR LUNCH") {
                        cell.textContent = "LUNCH";
                        cell.className = 'staff-lunch';
                    } else {
                        // Find if this staff is assigned to any patient during this time
                        let assigned = false;
                        for (const patient in schedule[time].patientAssignments) {
                            if (schedule[time].patientAssignments[patient].includes(s)) {
                                cell.textContent = patient;
                                assigned = true;
                                break;
                            }
                        }

                        if (!assigned) {
                            cell.textContent = "-";
                        }
                    }

                    row.appendChild(cell);
                });

                staffBody.appendChild(row);
            });

            // Show statistics
            renderStats(staffStats, staff, patients);
            renderBreakHoursTable(staffStats, staff);
        }

        // Render statistics
        function renderStats(staffStats, staff, patients) {
            const statsDiv = document.getElementById('stats');
            let statsHtml = '<h2>Health Care Worker (HCW) Work Summary</h2>';
            statsHtml += '<table>';
            statsHtml += '<tr><th>HCW</th><th>Work Hours</th><th>Break Time</th><th>30-min Break</th><th>1-hour Lunch</th></tr>';

            staff.forEach(s => {
                statsHtml += `<tr>
                    <td>${s}</td>
                    <td>${staffStats[s].workHours} hours</td>
                    <td>${staffStats[s].breakTime} hours</td>
                    <td>${staffStats[s].shortBreakTime}</td>
                    <td>${staffStats[s].lunchTime}</td>
                </tr>`;
            });

            statsHtml += '</table>';

            // Add schedule coverage
            statsHtml += '<h2>Schedule Coverage</h2>';
            statsHtml += `<p>Total HCWs: ${staff.length}</p>`;
            statsHtml += `<p>Total Patients: ${patients.length}</p>`;

            // Calculate patient-to-HCW ratio
            const ratio = staff.length / patients.length;
            statsHtml += `<p>HCW-to-Patient Ratio: ${ratio.toFixed(2)}:1</p>`;

            statsDiv.innerHTML = statsHtml;
        }

        // Render break hours table
        function renderBreakHoursTable(staffStats, staff) {
            const breakHoursTableBody = document.querySelector('#breakHoursTable tbody');
            breakHoursTableBody.innerHTML = ''; // Clear existing rows

            staff.forEach(s => {
                const row = document.createElement('tr');

                // Staff name
                const staffCell = document.createElement('td');
                staffCell.textContent = s;
                row.appendChild(staffCell);

                // 30-min Break
                const shortBreakCell = document.createElement('td');
                shortBreakCell.textContent = staffStats[s].shortBreakTime || 'N/A';
                row.appendChild(shortBreakCell);

                // 1-hour Lunch
                const lunchBreakCell = document.createElement('td');
                lunchBreakCell.textContent = staffStats[s].lunchTime || 'N/A';
                row.appendChild(lunchBreakCell);

                breakHoursTableBody.appendChild(row);
            });
        }

        // Helper function to shuffle an array (Fisher-Yates algorithm)
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        // Call the function to set the shift based on the system time when the page loads
        window.onload = function () {
            setShiftBasedOnTime();

            // Add event listeners for buttons
            document.getElementById("generateBtn").addEventListener("click", generateSchedule);
            document.getElementById("toggleShiftBtn").addEventListener("click", toggleShift);
            document.getElementById("addSecurityStaffBtn").addEventListener("click", () => {
                const securityStaffInputs = document.getElementById("securityStaffInputs");

                // Check if there is already one security staff
                if (securityStaffInputs.children.length > 0) {
                    alert("Only one security staff is allowed.");
                    return;
                }

                const securityContainer = document.createElement("div");
                securityContainer.className = "security-container";

                const newInput = document.createElement("input");
                newInput.type = "text";
                newInput.placeholder = "Security Staff";
                newInput.className = "security-name";

                securityContainer.appendChild(newInput);
                securityStaffInputs.appendChild(securityContainer);
            });

            document.getElementById("removeSecurityStaffBtn").addEventListener("click", () => {
                const securityStaffInputs = document.getElementById("securityStaffInputs");
                if (securityStaffInputs.children.length > 0) {
                    securityStaffInputs.removeChild(securityStaffInputs.lastElementChild);
                }
            });

            document.getElementById("addStaffBtn").addEventListener("click", () => {
                const staffInputs = document.getElementById("staffInputs");
                const staffContainer = document.createElement("div");
                staffContainer.className = "staff-container";

                const newInput = document.createElement("input");
                newInput.type = "text";
                newInput.placeholder = `Health Care Worker ${staffInputs.children.length + 1}`;
                newInput.className = "staff-name";

                staffContainer.appendChild(newInput);
                staffInputs.appendChild(staffContainer);
            });

            document.getElementById("removeStaffBtn").addEventListener("click", () => {
                const staffInputs = document.getElementById("staffInputs");
                if (staffInputs.children.length > 0) {
                    staffInputs.removeChild(staffInputs.lastElementChild);
                }
            });

            document.getElementById("addPatientBtn").addEventListener("click", () => {
                const patientInputs = document.getElementById("patientInputs");
                const patientContainer = document.createElement("div");
                patientContainer.className = "patient-container";

                // Create Patient Name Input
                const newInput = document.createElement("input");
                newInput.type = "text";
                newInput.placeholder = `Patient ${patientInputs.children.length + 1}`;
                newInput.className = "patient-name";

                // Create Staff Level Dropdown
                const staffCountSelect = document.createElement("select");
                staffCountSelect.className = "staff-count";

                const option1 = document.createElement("option");
                option1.value = 1;
                option1.textContent = "1:1"; // Simplified option

                const option2 = document.createElement("option");
                option2.value = 2;
                option2.textContent = "2:1"; // Simplified option

                const option3 = document.createElement("option");
                option3.value = 3;
                option3.textContent = "3:1"; // Simplified option

                staffCountSelect.appendChild(option1);
                staffCountSelect.appendChild(option2);
                staffCountSelect.appendChild(option3);

                // Append Input and Dropdown to the Container
                patientContainer.appendChild(newInput);
                patientContainer.appendChild(staffCountSelect);
                patientInputs.appendChild(patientContainer);
            });

            document.getElementById("removePatientBtn").addEventListener("click", () => {
                const patientInputs = document.getElementById("patientInputs");
                if (patientInputs.children.length > 0) {
                    patientInputs.removeChild(patientInputs.lastElementChild);
                }
            });

            // Reset button functionality
            document.getElementById("resetBtn").addEventListener("click", () => {
                const staffInputs = document.getElementById("staffInputs");
                const patientInputs = document.getElementById("patientInputs");
                staffInputs.innerHTML = ""; // Clear all staff inputs
                patientInputs.innerHTML = ""; // Clear all patient inputs
            });

            document.getElementById("toggleModeBtn").addEventListener("click", () => {
                const body = document.body;
                const toggleButton = document.getElementById("toggleModeBtn");

                // Toggle the dark-mode class on the body
                body.classList.toggle("dark-mode");

                // Update the button symbol based on the current mode
                if (body.classList.contains("dark-mode")) {
                    toggleButton.textContent = "☀️"; // Sunrise symbol for Light Mode
                } else {
                    toggleButton.textContent = "🌙"; // Moon symbol for Dark Mode
                }
            });
        };
    </script>
    <!-- Update any references to the old file name -->
    <a href="allocation.html">Go to Allocation Page</a>
</body>
</html>
